<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HelthBooster -Product Page</title>
    <link rel="icon" href="./titleLogo.jpg" type="image/icon type">
    <meta charset="UTF-8">
    <meta property="og:title" content="HelathBooster.com">
    <!-- <style>
        body {
            box-sizing: border-box;
        }

        img {
            width: 100%;
            margin: auto;
            height: 200px;
        }

        #outer {
            width: 90%;
            margin: auto;
            box-sizing: border-box;
        }

        #main {
            width: 100%;
            /* margin: auto; */
            margin-bottom: 20px;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px 20px;
            box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;
        }

        #outer {
            margin-top: 20px;
        }

        #container .card-list {
            width: 95%;
            margin: auto;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px 30px;
            margin-top: 30px;
        }

        .card {
            width: 100%;
            height: 420px;
            margin: auto;
            padding: 5px;
            background-color: FFFEFF;
            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
            border-radius: 10px;
        }

        .card_addCart,
        .card_addWishlist {
            width: 40%;
            margin: 7px;
            padding: 7px;
            font-size: 12px;
            border-radius: 15px;
            background-color: whitesmoke;
        }

        #pagination {
            width: 30%;
            margin: auto;
            display: flex;
            flex-direction: row;
            margin-top: 20px;
        }

        #pagination>button {
            margin: 10px;
            font-size: 17px;
            font-weight: bold;
            background-color: #498c4d;
            color: white;
            border-radius: 8px;
            padding: 8px;
        } 
    </style>-->
    <script src="https://kit.fontawesome.com/c4254e24a8.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./styles/product.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>

    <!-- NAVBAR -->

    <!-- <div id="discount">GET RS 50 OFF ON ORDERS ABOVE RS 100</div> -->
    <nav class="navbar">
        <div class="top-nav">
            <div class="logo">
                <a href="./index.html"><img src="./logo.jpg" alt=""></a>
            </div>
            <div class="search-bar">
                <div class="title">SEARCH</div>
                <input type="search" name="" id="search" placeholder="Search here for products">
                <div class="search-icon">
                    <i class="fa fa-search" id="search-btn"></i>
                </div>
            </div>
            <div class="nav-buttons">
                <div id="signup-div">
                    <a href="./signup.html" id="sign-in"><i class="fa fa-user"></i> Sign In / Register</a>
                </div>
                <a class="wish" href="./wishlist.html">
                    <h4 id="wishlistCounter">0</h4> <i class="fa-regular fa-heart"></i> Wishlist
                </a>
                <a class="wish" href="./Cart.html">
                    <h4 id="cartCounter">0</h4> <i class="fa-solid fa-cart-shopping"></i>Cart
                </a>
            </div>
        </div>
        <div class="bottom-nav">
            <a href="">Brands</a>
            <a href="./product.html">All Products</a>
            <a href="">Blogs</a>
            <a href="">gift Card</a>
            <a href="">Coustomer Support</a>
            <a href="">Store Location</a>

        </div>
    </nav>

    <!-- NAVBAR -->
    <div id="outer">
        <div>
            <fieldset id="main">
                <div>
                    <legend>Filter By Product Category</legend>
                    <div>
                        <input type="checkbox" id="vital" name="product" value="Vitals" />
                        <label for="Vitals">Vitals</label>
                    </div>
                    <div>
                        <input type="checkbox" id="biotin" name="interest" value="Biotin" />
                        <label for="Biotin">Biotin</label>
                    </div>
                    <div>
                        <input type="checkbox" id="proteins" name="interest" value="Whey Proteins" />
                        <label for="Whey Proteins">Whey Proteins</label>
                    </div>
                    <div>
                        <input type="checkbox" id="fitness" name="interest" value="Fitness" />
                        <label for="Fitness">Fitness</label>
                    </div>
                    <div>
                        <input type="checkbox" id="massGainer" name="interest" value="Mass Gainer" />
                        <label for="Mass Gainer">Mass Gainer</label>
                    </div>
                    <div>
                        <input type="checkbox" id="instrument" name="interest" value="instrument" />
                        <label for="instrument">Instrument</label>
                    </div>
                </div>
                <div>
                    <legend>Filter By Product Brand</legend>
                    <div>
                        <input type="checkbox" id="BPI" name="product" value="BPI" />
                        <label for="BPI">BPI</label>
                    </div>
                    <div>
                        <input type="checkbox" id="Beurer" name="interest" value="Beurer" />
                        <label for="Beurer">Beurer</label>
                    </div>
                    <div>
                        <input type="checkbox" id="Dr. Morepen" name="interest" value="Dr. Morepen" />
                        <label for="Dr. Morepen">Dr. Morepen</label>
                    </div>
                    <div>
                        <input type="checkbox" id="HealthKart" name="interest" value="HealthKart" />
                        <label for="HealthKart">HealthKart</label>
                    </div>
                    <div>
                        <input type="checkbox" id="MB Fuel One" name="interest" value="MB Fuel One" />
                        <label for="MB Fuel One">MB Fuel One</label>
                    </div>
                    <div>
                        <input type="checkbox" id="MuscleBlaze" name="interest" value="MuscleBlaze" />
                        <label for="MuscleBlaze">MuscleBlaze</label>
                    </div>
                    <div>
                        <input type="checkbox" id="Onetouch" name="interest" value="Onetouch" />
                        <label for="Onetouch">Onetouch</label>
                    </div>
                </div>
                <div>
                    <legend>Filter By Product Rating</legend>
                    <!-- <div> -->
                    <!-- <input type="checkbox" id="abovefour" name="product" value="4" /> -->
                    <!-- <label for="4">.</label> -->
                    <!-- </div> -->
                    <select name="" id="rating">
                        <option value="">Select Rating</option>
                        <option value="4">Rating Above 4</option>
                        <option value="3">Rating Above 3</option>
                        <option value="2">Rating Above 2</option>
                        <option value="1">Rating Above 1</option>
                    </select>
                </div>
                <div>
                    <legend>Filter By Product Price</legend>
                    <!-- <div>
                        <input type="checkbox" id="abovefour" name="product" value="4" />
                        <label for="4">.</label> -->
                    <!-- </div> -->
                    <select name="" id="price">
                        <option value="">Select Price</option>
                        <option value="2000">Price Below ₹ 2000</option>
                        <option value="1500">Price Below ₹ 1500</option>
                        <option value="1000">Price Below ₹ 1000</option>
                        <option value="500">Price Below ₹ 500</option>
                    </select>
                </div>

                <div>
                    <!-- <legend>Sort The Product</legend> -->
                    <!-- <div> -->
                    <!-- <input type="checkbox" id="abovefour" name="product" value="4" /> -->
                    <!-- <label for="4">.</label> -->
                    <!-- </div> -->
                    <!-- <select name="" id="sort">
                        <option value="">Select Sort</option>
                        <option value="2000">Price Below ₹ 2000</option>
                        <option value="1500">Price Below ₹ 1500</option>
                        <option value="1000">Price Below ₹ 1000</option>
                        <option value="500">Price Below ₹ 500</option>
                    </select> -->
                </div>
                <div>
                    <!-- <legend>Filter By Product Price</legend> -->
                    <div>
                        <!-- <input type="checkbox" id="abovefour" name="product" value="4" /> -->
                        <!-- <label for="4">.</label> -->
                    </div>
                    <!-- <select name="" id="price">
                        <option value="">Select Price</option>
                        <option value="2000">Price Below ₹ 2000</option>
                        <option value="1500">Price Below ₹ 1500</option>
                        <option value="1000">Price Below ₹ 1000</option>
                        <option value="500">Price Below ₹ 500</option>
                    </select> -->
                </div>
                <button id="applyfilter">Apply</button>
                <button id="removefilter">Remove Filter</button>
            </fieldset>
            <!-- <script>
                let lessthan2000 = document.getElementById("lessthan2000");
                let lessthan1500 = document.getElementById("lessthan1500");
                let lessthan1000 = document.getElementById("lessthan1000");
                let lessthan500 = document.getElementById("lessthan500");
            </script> -->
        </div>

        <div id="container">
            <!-- product appende here -->
        </div>
    </div>
    <div id="pagination">
        <!-- pagination here -->
    </div>
    <div id="f-main">
        <footer>
            <div class="f-cont">
                <div class="f-row">
                    <div class="col" id="about">
                        <h3>About Us</h3>
                        <p>HelathBooster was established in May 2023. This company started with a few employees but
                            transitioned
                            into
                            a full-fledged online platform within just a few months. By June 2023, HelathBooster
                            introduced the
                            certified,
                            well-known Indian and international brands to its platform, and that is increasing in number
                            each passing
                            month.</p>
                        <div class="s-media">
                            <a href="#"><i class="fa fa-facebook"></i></a>
                            <a href="#"><i class="fa fa-instagram"></i></a>
                            <a href="#"><i class="fa fa-twitter"></i></a>
                            <a href="#"><i class="fa fa-github"></i></a>
                        </div>
                    </div>
                    <div class="col" id="company">
                        <h3>TOP BRANDS</h3>
                        <div class="link">
                            <a href="/">HealthKart</a>
                            <a href="#">MuscleBlaze</a>
                            <a href="#">BPI</a>
                            <a href="#">True Basic</a>
                            <a href="#">Onetouch</a>
                            <a href="#">Dr.Morepen</a>
                            <a href="#">Beurer</a>
                        </div>
                    </div>
                    <div class="col" id="category">
                        <h3>TOP CATEGORIES</h3>
                        <div class="link">
                            <a href="#">Biotin</a>
                            <a href="#">Fitness</a>
                            <a href="#">Whey Proteins</a>
                            <a href="#">Mass Gainer</a>
                            <a href="#">Vitals</a>
                            <a href="#">Instrument</a>
                        </div>
                    </div>
                    <div class="col" id="policy">
                        <h3>POLICIES & INFO</h3>
                        <div class="link">
                            <a href="">Privacy Policy</a>
                            <a href="">SUPPORT</a>
                            <a href="">For Help, email to care@healthbooster.com</a>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- FOOTER -->
</body>

</html>
<script src="./scripts/product.js"></script>
<!-- <script>
    // fetching Session Storage 
    var saveToken = JSON.parse(sessionStorage.getItem("token")) || {};

    // category things
    let vital = document.getElementById("vital");
    let biotin = document.getElementById("biotin");
    let fitness = document.getElementById("fitness");
    let massGainer = document.getElementById("massGainer");
    let proteins = document.getElementById("proteins");
    let instrument = document.getElementById("instrument");

    // Brand things
    let BPI = document.getElementById("BPI");
    let Beurer = document.getElementById("Beurer");
    let DrMorepen = document.getElementById("Dr. Morepen");
    let HealthKart = document.getElementById("HealthKart");
    let MBFuelOne = document.getElementById("MB Fuel One");
    let MuscleBlaze = document.getElementById("MuscleBlaze");
    let Onetouch = document.getElementById("Onetouch");

    // controll button
    let ApplyButton = document.getElementById("applyfilter");
    let removefilter = document.getElementById("removefilter");



    let c1; let c2; let c3; let c4; let c5; let c6;
    let b1; let b2; let b3; let b4; let b5; let b6; let b7;
    // let rating = undefined; 
    // let price = undefined;
    ApplyButton.addEventListener("click", () => {
        // category
        (vital.checked) ? c1 = vital.value : undefined;
        (biotin.checked) ? c2 = biotin.value : undefined;
        (fitness.checked) ? c3 = fitness.value : undefined;
        (massGainer.checked) ? c4 = massGainer.value : undefined;
        (instrument.checked) ? c5 = instrument.value : undefined;
        (proteins.checked) ? c6 = proteins.value : undefined;
        // brand
        (BPI.checked) ? b1 = BPI.value : undefined;
        (Beurer.checked) ? b2 = Beurer.value : undefined;
        (DrMorepen.checked) ? b3 = DrMorepen.value : undefined;
        (HealthKart.checked) ? b4 = HealthKart.value : undefined;
        (MBFuelOne.checked) ? b5 = MBFuelOne.value : undefined;
        (MuscleBlaze.checked) ? b6 = MuscleBlaze.value : undefined;
        (Onetouch.checked) ? b7 = Onetouch.value : undefined;

        let rating = document.getElementById("rating").value;
        // console.log(rating);
        let price = document.getElementById("price").value;
        // console.log(price);

        fetchData(c1, c2, c3, c4, c5, c6, b1, b2, b3, b4, b5, b6, b7, rating, price)
        c1 = undefined, c2 = undefined, c3 = undefined, c4 = undefined, c5 = undefined, c6 = undefined;
        b1 = undefined, b2 = undefined, b3 = undefined, b4 = undefined, b5 = undefined, b6 = undefined, b7 = undefined;
        rating = undefined; price = undefined;
    });

    removefilter.addEventListener("click", () => {
        c1 = undefined, c2 = undefined, c3 = undefined, c4 = undefined, c5 = undefined, c6 = undefined;
        b1 = undefined, b2 = undefined, b3 = undefined, b4 = undefined, b5 = undefined, b6 = undefined, b7 = undefined;
        rating = undefined;
        // e.preventDefault()
        fetchData();//c1, c2, c3, c4, c5, c6, b1, b2, b3, b4, b5, b6, b7, rating
        document.location.reload();
    })

    window.addEventListener("load", () => {
        fetchData()
    })
    let page = 1; ProductLimit = 12
    function createbtn(page, id, query) {
        let button = document.createElement("button");
        button.setAttribute("data-id", id);
        button.textContent = page;
        button.addEventListener("click", (e) => {
            page = e.target.dataset.id;
            fetchDataAfterPagination(page, query)
            // console.log(e.target.dataset.id,query)
        })
        return button
    }
    function fetchDataAfterPagination(page, query) {
        // console.log(page);
        fetch(`https://moral-riddle-2098-project-server.onrender.com/products/?page=${page}&limit=${ProductLimit}&${query}`).then((res) => res.json()).then((res) => {
            console.log(res.products);
            getCardList(res.products)
        })
    }

    function fetchData(c1, c2, c3, c4, c5, c6, b1, b2, b3, b4, b5, b6, b7, rating, price) {
        // console.log(!c1 && !c2 && !c3 && !c4 && !c5 && !c6);
        // pagination
        let pagination = document.getElementById("pagination");

        if (!c1 && !c2 && !c3 && !c4 && !c5 && !c6 && !b1 && !b2 && !b3 && !b4 && !b5 && !b6 && !b7 && !rating && !price) {
            fetch(`https://moral-riddle-2098-project-server.onrender.com/products/`).then((res) => res.json()).then((res) => {
                let length = res.products.length;
                console.log(page)
                let total = Math.ceil(length / 12);
                pagination.innerHTML = null;
                for (let i = 1; i <= total; i++) {
                    pagination.append(createbtn(i, i, ``))
                }
                let diff = length - 12;
                let arr = res.products.slice(diff)
                getCardList(arr)
                // getCardList(res.products)
            }).catch((err) => {
                console.log(err);
            });
        } else if (rating && (!b1 && !b2 && !b3 && !b4 && !b5 && !b6 && !b7 && !c1 && !c2 && !c3 && !c4 && !c5 && !c6 && !price)) {
            // console.log(b1, b2, b3, b4, b5, b6, b7, rating, price);
            fetch(`https://moral-riddle-2098-project-server.onrender.com/products/?rating=${rating}`).then((res) => res.json()).then((res) => {
                let length = res.products.length;
                // console.log(page)
                let total = Math.ceil(length / 12);
                pagination.innerHTML = null;
                for (let i = 1; i <= total; i++) {
                    pagination.append(createbtn(i, i, `rating=${rating}`))
                }
                let diff = length - 12;
                let arr = res.products.slice(diff)
                getCardList(arr)
            }).catch((err) => {
                console.log(err);
            });
        }
        else if ((c1 || c2 || c3 || c4 || c5 || c6) && (!b1 && !b2 && !b3 && !b4 && !b5 && !b6 && !b7) && (!rating) && !price) {
            fetch(`https://moral-riddle-2098-project-server.onrender.com/products/?category=${c1}&category=${c2}&category=${c3}&category=${c4}&category=${c5}&category=${c6}`).then((res) => res.json()).then((res) => {
                let length = res.products.length;
                //console.log(page)
                let total = Math.ceil(length / 12);
                pagination.innerHTML = null;
                for (let i = 1; i <= total; i++) {
                    pagination.append(createbtn(i, i, `category=${c1}&category=${c2}&category=${c3}&category=${c4}&category=${c5}&category=${c6}`))
                }
                let diff = length - 12;
                let arr = res.products.slice(diff)
                getCardList(arr)
                // getCardList(res.products)
            }).catch((err) => {
                console.log(err);
            });
        } else if ((b1 || b2 || b3 || b4 || b5 || b6 || b7) && (!c1 && !c2 && !c3 && !c4 && !c5 && !c6) && (!rating) && !price) {
            fetch(`https://moral-riddle-2098-project-server.onrender.com/products/?brand=${b1}&brand=${b2}&brand=${b3}&brand=${b4}&brand=${b5}&brand=${b6}&brand=${b7}`).then((res) => res.json()).then((res) => {
                let length = res.products.length;
                // console.log(page)
                let total = Math.ceil(length / 12);
                pagination.innerHTML = null;
                for (let i = 1; i <= total; i++) {
                    pagination.append(createbtn(i, i, `brand=${b1}&brand=${b2}&brand=${b3}&brand=${b4}&brand=${b5}&brand=${b6}&brand=${b7}`))
                }
                let diff = length - 12;
                let arr = res.products.slice(diff)
                getCardList(arr)
                // getCardList(res.products)
            }).catch((err) => {
                console.log(err);
            });
        }
        else if ((c1 || c2 || c3 || c4 || c5 || c6 || rating) && (!b1 && !b2 && !b3 && !b4 && !b5 && !b6 && !b7 && !price)) {
            fetch(`https://moral-riddle-2098-project-server.onrender.com/products/?category=${c1}&category=${c2}&category=${c3}&category=${c4}&category=${c5}&category=${c6}&rating=${rating}`).then((res) => res.json()).then((res) => {
                let length = res.products.length;
                // console.log(page)
                let total = Math.ceil(length / 12);
                pagination.innerHTML = null;
                for (let i = 1; i <= total; i++) {
                    pagination.append(createbtn(i, i, `category=${c1}&category=${c2}&category=${c3}&category=${c4}&category=${c5}&category=${c6}&rating=${rating}`))
                }
                let diff = length - 12;
                let arr = res.products.slice(diff)
                getCardList(arr)
                // getCardList(res.products)
            }).catch((err) => {
                console.log(err);
            });
        } else if ((price || rating) && (!b1 && !b2 && !b3 && !b4 && !b5 && !b6 && !b7 && !c1 && !c2 && !c3 && !c4 && !c5)) {
            fetch(`https://moral-riddle-2098-project-server.onrender.com/products/?rating=${rating}&price=${price}`).then((res) => res.json()).then((res) => {
                let length = res.products.length;
                // console.log(page)
                let total = Math.ceil(length / 12);
                pagination.innerHTML = null;
                for (let i = 1; i <= total; i++) {
                    pagination.append(createbtn(i, i, `rating=${rating}&price=${price}`))
                }
                let diff = length - 12;
                let arr = res.products.slice(diff)
                getCardList(arr)
                // getCardList(res.products)
            }).catch((err) => {
                console.log(err);
            });
        }
        else if ((rating || b1 || b2 || b3 || b4 || b5 || b6 || b7) && (!c1 && !c2 && !c3 && !c4 && !c5 && !c6 && !price)) {
            // console.log(b1, b2, b3, b4, b5, b6, b7, rating);
            fetch(`https://moral-riddle-2098-project-server.onrender.com/products/?rating=${rating}&brand=${b1}&brand=${b2}&brand=${b3}&brand=${b4}&brand=${b5}&brand=${b6}&brand=${b7}`).then((res) => res.json()).then((res) => {
                let length = res.products.length;
                // console.log(page)
                let total = Math.ceil(length / 12);
                pagination.innerHTML = null;
                for (let i = 1; i <= total; i++) {
                    pagination.append(createbtn(i, i, `rating=${rating}&brand=${b1}&brand=${b2}&brand=${b3}&brand=${b4}&brand=${b5}&brand=${b6}&brand=${b7}`))
                }
                let diff = length - 12;
                let arr = res.products.slice(diff)
                getCardList(arr)
                // getCardList(res.products)
            }).catch((err) => {
                console.log(err);
            });
        }
        else if ((rating || b1 || b2 || b3 || b4 || b5 || b6 || b7 || price) && (!c1 && !c2 && !c3 && !c4 && !c5 && !c6)) {
            console.log(b1, b2, b3, b4, b5, b6, b7, rating, "XXX", price);
            fetch(`https://moral-riddle-2098-project-server.onrender.com/products/?brand=${b1}&brand=${b2}&brand=${b3}&brand=${b4}&brand=${b5}&brand=${b6}&brand=${b7}&price=${price}&rating=${rating}`).then((res) => res.json()).then((res) => {
                let length = res.products.length;
                // console.log(page)
                let total = Math.ceil(length / 12);
                pagination.innerHTML = null;
                for (let i = 1; i <= total; i++) {
                    pagination.append(createbtn(i, i, `brand=${b1}&brand=${b2}&brand=${b3}&brand=${b4}&brand=${b5}&brand=${b6}&brand=${b7}&price=${price}&rating=${rating}`))
                }
                let diff = length - 12;
                let arr = res.products.slice(diff)
                getCardList(arr)
                // getCardList(res.products)
            }).catch((err) => {
                console.log(err);
            });
        }
        else if ((c1 || c2 || c3 || c4 || c5 || c6 || price) && (!b1 && !b2 && !b3 && !b4 && !b5 && !b6 && !b7 && !rating)) {
            fetch(`https://moral-riddle-2098-project-server.onrender.com/products/?category=${c1}&category=${c2}&category=${c3}&category=${c4}&category=${c5}&category=${c6}&price=${price}`).then((res) => res.json()).then((res) => {
                let length = res.products.length;
                // console.log(page)
                let total = Math.ceil(length / 12);
                pagination.innerHTML = null;
                for (let i = 1; i <= total; i++) {
                    pagination.append(createbtn(i, i, `category=${c1}&category=${c2}&category=${c3}&category=${c4}&category=${c5}&category=${c6}&price=${price}`))
                }
                let diff = length - 12;
                let arr = res.products.slice(diff)
                getCardList(arr)
                // getCardList(res.products)
            }).catch((err) => {
                console.log(err);
            });
        } else if ((price || b1 || b2 || b3 || b4 || b5 || b6 || b7) && (!c1 && !c2 && !c3 && !c4 && !c5 && !c6 && !rating)) {
            // console.log(b1, b2, b3, b4, b5, b6, b7, rating);
            fetch(`https://moral-riddle-2098-project-server.onrender.com/products/?price=${price}&brand=${b1}&brand=${b2}&brand=${b3}&brand=${b4}&brand=${b5}&brand=${b6}&brand=${b7}`).then((res) => res.json()).then((res) => {
                let length = res.products.length;
                // console.log(page)
                let total = Math.ceil(length / 12);
                pagination.innerHTML = null;
                for (let i = 1; i <= total; i++) {
                    pagination.append(createbtn(i, i, `price=${price}&brand=${b1}&brand=${b2}&brand=${b3}&brand=${b4}&brand=${b5}&brand=${b6}&brand=${b7}`))
                }
                let diff = length - 12;
                let arr = res.products.slice(diff)
                getCardList(arr)
                // getCardList(res.products)
            }).catch((err) => {
                console.log(err);
            });
        }
        else if (c1 || c2 || c3 || c4 || c5 || c6 || b1 || b2 || b3 || b4 || b5 || b6 || b7 || rating || price) {
            fetch(`https://moral-riddle-2098-project-server.onrender.com/products/?category=${c1}&category=${c2}&category=${c3}&category=${c4}&category=${c5}&category=${c6}&brand=${b1}&brand=${b2}&brand=${b3}&brand=${b4}&brand=${b5}&brand=${b6}&brand=${b7}&rating=${rating}&price=${price}`).then((res) => res.json()).then((res) => {
                let length = res.products.length;
                // console.log(page)
                let total = Math.ceil(length / 12);
                pagination.innerHTML = null;
                for (let i = 1; i <= total; i++) {
                    pagination.append(createbtn(i, i, `category=${c1}&category=${c2}&category=${c3}&category=${c4}&category=${c5}&category=${c6}&brand=${b1}&brand=${b2}&brand=${b3}&brand=${b4}&brand=${b5}&brand=${b6}&brand=${b7}&rating=${rating}&price=${price}`))
                }
                let diff = length - 12;
                let arr = res.products.slice(diff)
                getCardList(arr)
                // getCardList(res.products)
            }).catch((err) => {
                console.log(err);
            });
        }
    }

    let container = document.getElementById("container");
    // getCardList(product)
    function getCardList(data) {
        let brand = {};
        let category = {};
        container.innerHTML = null;
        let cardList = document.createElement("div");
        cardList.classList = "card-list";
        container.append(cardList);
        // console.log(data);
        data.forEach((element) => {
            if (brand[element.brand] == undefined) {
                brand[element.brand] = 1;
            } else {
                brand[element.brand]++;
            }
            if (category[element.category] == undefined) {
                category[element.category] = 1;
            } else {
                category[element.category]++;
            }
            let card = getCard(element._id, element.title, element.brand, element.category, element.rating, element.price, element.img, element.quantity);
            cardList.append(card)
        });
        console.log("Brand", brand);
        console.log("category", category);
        return cardList;
    }
    function getCard(dataId, title, brand, category, rating, price, avatar, quantity) {
        // console.log({dataId:dataId, title:title, brand:brand, category:category, rating:rating, price:price, avatar:avatar, quantity:quantity});
        let card = document.createElement("div");
        card.classList = "card";
        card.setAttribute("data-id", dataId);
        // card.innerText=username;

        let imageCard = document.createElement("div");
        imageCard.classList = "card_img";

        let image = document.createElement("img");
        // console.log(avatar);
        image.src = avatar;
        image.setAttribute("alt", `${title} image`);

        let cardBody = document.createElement("div");
        cardBody.classList = "card_body";

        let nameCard = document.createElement("h4");
        nameCard.classList = "card_item";
        nameCard.classList = "card_title";
        nameCard.innerText = `${title}`;

        // let brandCard = document.createElement("h4");
        // brandCard.classList = "card_item"
        // brandCard.classList = "card_description";
        // brandCard.innerHTML = `Brand:${brand} Catgory: ${category}`;

        // let categoryCard = document.createElement("div");
        // categoryCard.classList = "card_item"
        // categoryCard.classList = "card_description";
        // categoryCard.innerText = category;

        let ratingCard = document.createElement("h4");
        ratingCard.classList = "card_item"
        ratingCard.classList = "card_rating";
        ratingCard.innerHTML = `<i class="fa-sharp fa-solid fa-star" style="color: #212121;"></i> ${rating}`
        // `Rating: ${rating}  Price: ${price}`;

        let priceCard = document.createElement("h4");
        priceCard.classList = "card_item"
        priceCard.classList = "card_price";
        priceCard.innerText = `₹ ${price}`;

        let buttonDiv = document.createElement("div");
        buttonDiv.classList = "card_button";

        let cartButton = document.createElement("button");
        cartButton.classList = "card_item";
        cartButton.classList = "card_addCart";
        cartButton.id = dataId
        if (quantity !== 0) {

            cartButton.innerHTML = `<i class="fa-solid fa-cart-shopping fa-bounce" style="color: #3f9d97;"></i> Add To Cart`
            cartButton.addEventListener("click", (e) => {
                let cartObject = {
                    "title": title,
                    "brand": brand,
                    "category": category,
                    "rating": rating,
                    "price": price,
                    "img": avatar,
                    "quantity": 1,
                    "prodID": e.target.id
                };
                // console.log(cartObject);
                // console.log(saveToken.token);
                fetch(`https://moral-riddle-2098-project-server.onrender.com/products/updateAfterAddCart/${e.target.id}`, {
                    method: "PATCH",
                    headers: {
                        'Content-type': "application/json"
                    },
                    body: JSON.stringify({ quantity: quantity - 1 })
                }).then((res) => res.json()).then((res) => console.log(res)).catch((err) => console.log(err))
                fetch(`https://moral-riddle-2098-project-server.onrender.com/cart/add/`, {
                    method: "POST",
                    headers: {
                        'Content-type': "application/json",
                        "authorization": `Bearer ${saveToken.token}`
                    },
                    body: JSON.stringify(cartObject)
                }).then((res) => res.json()).then((res) => {
                    console.log(res);
                })
            })
        } else {
            cartButton.innerHTML = `Out Of Stock`;
        }
        let wishlistButton = document.createElement("button");
        wishlistButton.classList = "card_item";
        wishlistButton.classList = "card_addWishlist";
        wishlistButton.id = dataId
        wishlistButton.innerHTML = `<i class="fa-regular fa-heart fa-bounce" style="color: #43b1b0;"></i> Add To Cart`
        wishlistButton.addEventListener("click", (e) => {
            let wishlistObject = {
                "title": title,
                "brand": brand,
                "category": category,
                "rating": rating,
                "price": price,
                "img": avatar,
                "quantity": 1
            };
            // console.log(wishlistObject);
            // console.log(saveToken.token);
            // fetch(`https://moral-riddle-2098-project-server.onrender.com/products/updateAfterAddCart/${e.target.id}`,{
            //     method:"PATCH",
            //     headers:{
            //         'Content-type':"application/json"
            //     },
            //     body:JSON.stringify({quantity:quantity-1})
            // }).then((res)=>res.json()).then((res)=>console.log(res)).catch((err)=>console.log(err))
            fetch(`https://moral-riddle-2098-project-server.onrender.com/wishlist/add/`, {
                method: "POST",
                headers: {
                    'Content-type': "application/json",
                    "authorization": `Bearer ${saveToken.token}`
                },
                body: JSON.stringify(wishlistObject)
            }).then((res) => res.json()).then((res) => {
                console.log(res);
            })
        })
        buttonDiv.append(cartButton, wishlistButton)

        //     let quantityCard = document.createElement("h5");
        //     quantityCard.classList = "card_item"
        //     quantityCard.classList = "card_quantity";
        //     quantityCard.innerText = `Out Of Stock`;
        //     // quantityCard.innerHTML = `2`

        cardBody.append(ratingCard, nameCard, priceCard, buttonDiv)

        imageCard.append(image)

        card.append(imageCard, cardBody)

        return card;
    };

    // let addCart = document.getElementById("card_addCart");
    // let addWishlist = document.getElementById("card_addWishlist");
    // addCart.addEventListener("click", (e) => {

    // })
</script> -->

<!-- login / logout logic -->
<style id="logoutStyle">
    /* sigup/login dropdow css come here after login and remove after logout */
</style>
<script>
    var saveToken = JSON.parse(sessionStorage.getItem("token"));
    let logoutStyle = document.getElementById("logoutStyle");
    let signup_div = document.getElementById("signup-div");

    console.log(saveToken, saveToken.length);
    if (saveToken.logout) {
        // console.log("hii");
        signup_div.innerHTML = null;
        signup_div.innerHTML = `<a href="./signup.html" id="sign-in"><i class="fa fa-user"></i> Sign In / Register</a>`
    } else {
        // console.log("234");
        signup_div.innerHTML = null;
        signup_div.innerHTML = ` <div class="dropdown">
       <a href="#" id="sign-in"><i class="fa fa-user"></i> ${saveToken.name}</a>
       <div class="dropdown-content">
        <a href="./myorder.html">My Orders</a>
         <a onclick="logout()">Log out</a>
       </div>
     </div>`
        logoutStyle.append(
            `.dropdown {
   display: inline-block;
   position: relative;
   background-color: white;
 }
 .dropdown-content {
   display: none;
   position: absolute;
   width: 100%;
   overflow: auto;
   box-shadow: 0px 10px 10px 0px rgba(0,0,0,0.4);
 }
 .dropdown:hover .dropdown-content {
   display: block;
 }
 .dropdown-content a {
   display: block;
   color: #000000;
   padding: 5px;
   text-decoration: none;
   background-color: rgb(205, 250, 214);
 }
 .dropdown-content a:hover {
   color: #FFFFFF;
   background-color: #00A4BD;
 }`
        )
    }

    function logout() {
        console.log("logout")
        sessionStorage.setItem("token", JSON.stringify({ logout: true }));
        window.location.reload()
    }
</script>

<!-- login / logout logic -->

<!-- data.forEach(element => {

let card = document.createElement("div");
let title = document.createElement("p");
let price = document.createElement("p");
let img = document.createElement("img");
let quantity = document.createElement("p");
let category1 = document.createElement("P");
category1.textContent = element.category;
let rating1 = document.createElement("P");
rating1.textContent = element.rating;
quantity.textContent = element.quantity;
img.setAttribute("src", element.img);
price.textContent = element.price;
title.textContent = element.title;

card.append(img, title, price, quantity, category1, rating1);
container.append(card);
}); -->